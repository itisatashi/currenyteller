/**
 * Language configuration for Valyuta Kurslari Moliyaviy Xatar Boshqaruvi
 */

const LANGUAGES = {
  uz: {
    name: "O'zbek",
    flag: "üá∫üáø",
    texts: {
      // Navigation
      nav_home: "Kurslar",
      nav_chart: "Grafik",
      nav_recommendations: "Tavsiyalar",

      // Home page
      title_home: "Bugungi Kurslar",
      subtitle_home:
        "O'zbekiston so'miga nisbatan asosiy valyutalar kurslari va ularning xavf darajalari",
      btn_refresh: "Yangilash",
      last_updated: "So'nggi yangilanish:",
      loading: "Ma'lumotlar yuklanmoqda...",
      view_chart: "Grafikni Ko'rish",

      // Chart page
      title_chart: "Haftalik Grafik",
      subtitle_chart: "So'nggi 7 kun ichida valyuta kurslarining o'zgarishi",

      // Recommendations page
      title_recommendations: "Moliyaviy Tavsiyalar",
      subtitle_recommendations:
        "Valyuta kurslari asosida moliyaviy qarorlar qabul qilish uchun tavsiyalar",
      importers: "Importchilar uchun",
      exporters: "Eksportchilar uchun",
      investors: "Investorlar uchun",

      // Risk levels
      risk_low: "Past xavf",
      risk_medium: "O'rtacha xavf",
      risk_high: "Yuqori xavf",

      // Currency names
      currency_usd: "AQSh dollari",
      currency_eur: "Yevro",
      currency_rub: "Rossiya rubli",
      currency_cny: "Xitoy yuani",
      currency_kzt: "Qozog'iston tengesi",

      // Footer
      footer_copyright: "¬© 2025 Valyuta Xatar Boshqaruvi MVP",
      footer_data_source: "Ma'lumotlar:",

      // Recommendations for importers
      imp_high_up:
        "kursi sezilarli darajada oshmoqda ({change}%). Import qiluvchilar uchun xavfli davr. Imkon bo'lsa, importni kechiktiring yoki valyuta zaxirasini ko'paytiring.",
      imp_medium_up:
        "kursi o'rtacha darajada oshmoqda ({change}%). Import qiluvchilar uchun ehtiyotkorlik talab etiladi. Qisqa muddatli importni ko'rib chiqing.",
      imp_stable:
        "kursi barqaror holatda ({change}%). Import qiluvchilar uchun qulay davr.",
      imp_high_down:
        "kursi sezilarli darajada tushmoqda ({change}%). Import qiluvchilar uchun juda qulay davr. Importni tezlashtirish tavsiya etiladi.",
      imp_medium_down:
        "kursi o'rtacha darajada tushmoqda ({change}%). Import qiluvchilar uchun qulay davr. Importni rejalashtirish mumkin.",

      // Actions for importers
      act_imp_delay: "Importni kechiktirish tavsiya etiladi",
      act_imp_caution: "Ehtiyotkorlik bilan harakat qiling",
      act_imp_plan: "Importni rejalashtirish mumkin",
      act_imp_accelerate: "Importni tezlashtiring",

      // Recommendations for exporters
      exp_high_up:
        "kursi sezilarli darajada oshmoqda ({change}%). Eksport qiluvchilar uchun juda qulay davr. Eksportni tezlashtirish tavsiya etiladi.",
      exp_medium_up:
        "kursi o'rtacha darajada oshmoqda ({change}%). Eksport qiluvchilar uchun qulay davr. Eksportni rejalashtirish mumkin.",
      exp_stable:
        "kursi barqaror holatda ({change}%). Eksport qiluvchilar uchun qulay davr.",
      exp_high_down:
        "kursi sezilarli darajada tushmoqda ({change}%). Eksport qiluvchilar uchun xavfli davr. Imkon bo'lsa, eksportni kechiktiring.",
      exp_medium_down:
        "kursi o'rtacha darajada tushmoqda ({change}%). Eksport qiluvchilar uchun ehtiyotkorlik talab etiladi. Qisqa muddatli eksportni ko'rib chiqing.",

      // Actions for exporters
      act_exp_accelerate: "Eksportni tezlashtiring",
      act_exp_plan: "Eksportni rejalashtiring",
      act_exp_delay: "Eksportni kechiktirish tavsiya etiladi",
      act_exp_caution: "Ehtiyotkorlik bilan harakat qiling",

      // Recommendations for investors
      inv_high_up:
        "kursi sezilarli darajada oshmoqda ({change}%). Investorlar uchun {currency}dan UZSga o'tish qulay vaqt. Kurs tushishi mumkin bo'lgan davrni kuting.",
      inv_medium_up:
        "kursi o'rtacha darajada oshmoqda ({change}%). Investorlar uchun qisman {currency}dan UZSga o'tish mumkin. Diversifikatsiyani saqlang.",
      inv_stable:
        "kursi barqaror holatda ({change}%). Investorlar uchun hozirgi pozitsiyani saqlash tavsiya etiladi.",
      inv_high_down:
        "kursi sezilarli darajada tushmoqda ({change}%). Investorlar uchun UZSdan {currency}ga o'tish qulay vaqt. Kurs ko'tarilishi mumkin bo'lgan davrni kuting.",
      inv_medium_down:
        "kursi o'rtacha darajada tushmoqda ({change}%). Investorlar uchun qisman UZSdan {currency}ga o'tish mumkin. Diversifikatsiyani saqlang.",

      // Actions for investors
      act_inv_to_uzs: "{currency}dan UZSga o'tishni ko'rib chiqing",
      act_inv_diversify: "Diversifikatsiyani saqlang",
      act_inv_hold: "Hozirgi pozitsiyani saqlang",
      act_inv_from_uzs: "UZSdan {currency}ga o'tishni ko'rib chiqing",

      // No data
      no_data: "Ma'lumotlar mavjud emas",
      no_change: "O'zgarishsiz",
      offline_error:
        "Internet ulanishida xatolik. Oxirgi saqlangan ma'lumotlar ko'rsatilmoqda",
      no_offline_data:
        "Internet ulanishida xatolik va mahalliy ma'lumotlar mavjud emas",

      // Chart
      date: "Sana",
      risk_level: "Xavf darajasi",

      // Language
      language: "Til",
    },
  },
  ru: {
    name: "–†—É—Å—Å–∫–∏–π",
    flag: "üá∑üá∫",
    texts: {
      // Navigation
      nav_home: "–ö—É—Ä—Å—ã",
      nav_chart: "–ì—Ä–∞—Ñ–∏–∫",
      nav_recommendations: "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏",

      // Home page
      title_home: "–°–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –∫—É—Ä—Å—ã",
      subtitle_home:
        "–ö—É—Ä—Å—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–∞–ª—é—Ç –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —É–∑–±–µ–∫—Å–∫–æ–º—É —Å—É–º—É –∏ –∏—Ö —É—Ä–æ–≤–Ω–∏ —Ä–∏—Å–∫–∞",
      btn_refresh: "–û–±–Ω–æ–≤–∏—Ç—å",
      last_updated: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:",
      loading: "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",
      view_chart: "–ü—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä–∞—Ñ–∏–∫–∞",

      // Chart page
      title_chart: "–ù–µ–¥–µ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫",
      subtitle_chart: "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π",

      // Recommendations page
      title_recommendations: "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏",
      subtitle_recommendations:
        "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç",
      importers: "–î–ª—è –∏–º–ø–æ—Ä—Ç–µ—Ä–æ–≤",
      exporters: "–î–ª—è —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤",
      investors: "–î–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤",

      // Risk levels
      risk_low: "–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫",
      risk_medium: "–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫",
      risk_high: "–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫",

      // Currency names
      currency_usd: "–î–æ–ª–ª–∞—Ä –°–®–ê",
      currency_eur: "–ï–≤—Ä–æ",
      currency_rub: "–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å",
      currency_cny: "–ö–∏—Ç–∞–π—Å–∫–∏–π —é–∞–Ω—å",
      currency_kzt: "–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏–π —Ç–µ–Ω–≥–µ",

      // Footer
      footer_copyright: "¬© 2025 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç–Ω—ã–º–∏ —Ä–∏—Å–∫–∞–º–∏ MVP",
      footer_data_source: "–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:",

      // Recommendations for importers
      imp_high_up:
        "–∫—É—Ä—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Ç–µ—Ç ({change}%). –û–ø–∞—Å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∏–º–ø–æ—Ä—Ç–µ—Ä–æ–≤. –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –æ—Ç–ª–æ–∂–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –≤–∞–ª—é—Ç–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤—ã.",
      imp_medium_up:
        "–∫—É—Ä—Å —É–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞—Å—Ç–µ—Ç ({change}%). –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –∏–º–ø–æ—Ä—Ç–µ—Ä–æ–≤. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π –∏–º–ø–æ—Ä—Ç.",
      imp_stable:
        "–∫—É—Ä—Å —Å—Ç–∞–±–∏–ª–µ–Ω ({change}%). –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∏–º–ø–æ—Ä—Ç–µ—Ä–æ–≤.",
      imp_high_down:
        "–∫—É—Ä—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–∞–¥–∞–µ—Ç ({change}%). –û—á–µ–Ω—å –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∏–º–ø–æ—Ä—Ç–µ—Ä–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å–∫–æ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç.",
      imp_medium_down:
        "–∫—É—Ä—Å —É–º–µ—Ä–µ–Ω–Ω–æ –ø–∞–¥–∞–µ—Ç ({change}%). –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∏–º–ø–æ—Ä—Ç–µ—Ä–æ–≤. –ú–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç.",

      // Actions for importers
      act_imp_delay: "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–ª–æ–∂–∏—Ç—å –∏–º–ø–æ—Ä—Ç",
      act_imp_caution: "–î–µ–π—Å—Ç–≤—É–π—Ç–µ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é",
      act_imp_plan: "–ú–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç",
      act_imp_accelerate: "–£—Å–∫–æ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç",

      // Recommendations for exporters
      exp_high_up:
        "–∫—É—Ä—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Ç–µ—Ç ({change}%). –û—á–µ–Ω—å –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å–∫–æ—Ä–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç.",
      exp_medium_up:
        "–∫—É—Ä—Å —É–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞—Å—Ç–µ—Ç ({change}%). –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤. –ú–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç.",
      exp_stable:
        "–∫—É—Ä—Å —Å—Ç–∞–±–∏–ª–µ–Ω ({change}%). –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤.",
      exp_high_down:
        "–∫—É—Ä—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–∞–¥–∞–µ—Ç ({change}%). –û–ø–∞—Å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤. –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –æ—Ç–ª–æ–∂–∏—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç.",
      exp_medium_down:
        "–∫—É—Ä—Å —É–º–µ—Ä–µ–Ω–Ω–æ –ø–∞–¥–∞–µ—Ç ({change}%). –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç.",

      // Actions for exporters
      act_exp_accelerate: "–£—Å–∫–æ—Ä—å—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç",
      act_exp_plan: "–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç",
      act_exp_delay: "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–ª–æ–∂–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç",
      act_exp_caution: "–î–µ–π—Å—Ç–≤—É–π—Ç–µ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é",

      // Recommendations for investors
      inv_high_up:
        "–∫—É—Ä—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Ç–µ—Ç ({change}%). –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å {currency} –Ω–∞ UZS –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–µ—Ä–∏–æ–¥–∞, –∫–æ–≥–¥–∞ –∫—É—Ä—Å –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å.",
      inv_medium_up:
        "–∫—É—Ä—Å —É–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞—Å—Ç–µ—Ç ({change}%). –ò–Ω–≤–µ—Å—Ç–æ—Ä—ã –º–æ–≥—É—Ç —á–∞—Å—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ —Å {currency} –Ω–∞ UZS. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—é.",
      inv_stable:
        "–∫—É—Ä—Å —Å—Ç–∞–±–∏–ª–µ–Ω ({change}%). –ò–Ω–≤–µ—Å—Ç–æ—Ä–∞–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é.",
      inv_high_down:
        "–∫—É—Ä—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–∞–¥–∞–µ—Ç ({change}%). –ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å UZS –Ω–∞ {currency} –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–µ—Ä–∏–æ–¥–∞, –∫–æ–≥–¥–∞ –∫—É—Ä—Å –º–æ–∂–µ—Ç –≤—ã—Ä–∞—Å—Ç–∏.",
      inv_medium_down:
        "–∫—É—Ä—Å —É–º–µ—Ä–µ–Ω–Ω–æ –ø–∞–¥–∞–µ—Ç ({change}%). –ò–Ω–≤–µ—Å—Ç–æ—Ä—ã –º–æ–≥—É—Ç —á–∞—Å—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ —Å UZS –Ω–∞ {currency}. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—é.",

      // Actions for investors
      act_inv_to_uzs: "–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥ —Å {currency} –Ω–∞ UZS",
      act_inv_diversify: "–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—é",
      act_inv_hold: "–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é",
      act_inv_from_uzs: "–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥ —Å UZS –Ω–∞ {currency}",

      // No data
      no_data: "–î–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã",
      no_change: "–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π",
      offline_error:
        "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ",
      no_offline_data: "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",

      // Chart
      date: "–î–∞—Ç–∞",
      risk_level: "–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞",

      // Language
      language: "–Ø–∑—ã–∫",
    },
  },
};

// Default language
let currentLanguage = "uz";

// Get text by key
function getText(key, replacements = {}) {
  const text =
    LANGUAGES[currentLanguage].texts[key] || LANGUAGES["uz"].texts[key] || key;

  // Replace placeholders with values
  let result = text;
  for (const [placeholder, value] of Object.entries(replacements)) {
    result = result.replace(new RegExp(`\\{${placeholder}\\}`, "g"), value);
  }

  return result;
}

// Set language
function setLanguage(lang) {
  if (LANGUAGES[lang]) {
    currentLanguage = lang;
    saveToLocalStorage("valyutaXavf_language", lang);
    updatePageLanguage();
  }
}

// Get current language
function getCurrentLanguage() {
  return currentLanguage;
}

// Initialize language from local storage or browser settings
function initLanguage() {
  const savedLanguage = getFromLocalStorage("valyutaXavf_language");
  if (savedLanguage && LANGUAGES[savedLanguage]) {
    currentLanguage = savedLanguage;
  } else {
    // Try to detect from browser
    const browserLang = navigator.language || navigator.userLanguage;
    if (browserLang.startsWith("ru")) {
      currentLanguage = "ru";
    }
  }
}

// Update all text elements on the page
function updatePageLanguage() {
  document.querySelectorAll("[data-lang-key]").forEach((element) => {
    const key = element.getAttribute("data-lang-key");
    if (key) {
      // Check if this is an input with placeholder
      if (element.hasAttribute("placeholder")) {
        element.placeholder = getText(key);
      } else {
        element.textContent = getText(key);
      }
    }
  });

  // Trigger custom event for dynamic content
  document.dispatchEvent(
    new CustomEvent("languageChanged", {
      detail: { language: currentLanguage },
    })
  );
}
